meta {
  name: EL Subordinate Clauses
  type: http
  seq: 28
}

post {
  url: {{llmCallerUrl}}/analyze_subordinate_clauses
  body: json
  auth: bearer
}

headers {
  Content-Type: application/json
}

auth:bearer {
  token: {{vllmApiKey}}
}

body:json {
  {
    "text": "Το νέο τρίμηνο ξεκίνησε δυναμικά, καθώς η ομάδα πωλήσεων αποκάλυψε τα τελευταία της στοιχεία. Η καινοτόμος πρωτοβουλία «Project Nexus» είχε σαφώς αποδώσει καρπούς, οδηγώντας σε αύξηση 30% στις αποκτήσεις νέων πελατών. Ενώ ορισμένοι επικριτές αρχικά αμφέβαλλαν για το φιλόδοξο χρονοδιάγραμμα του προγράμματος, τα αποτελέσματα μιλούν από μόνα τους, αποδεικνύοντας ότι η ταχύτητα και η στρατηγική μπορούν να συνυπάρχουν. Το τμήμα μάρκετινγκ, ειδικότερα, επαινέθηκε για τις δημιουργικές καμπάνιες προσέγγισης που είχαν βαθιά απήχηση στο στοχευμένο δημογραφικό κοινό. Κατάφεραν να μετατρέψουν τους χλιαρούς υποψήφιους πελάτες σε ένθερμους υποστηρικτές της μάρκας. Η ομάδα ανάπτυξης προϊόντων δεν έχασε την ευκαιρία, παρουσιάζοντας ένα πολυαναμενόμενο νέο gadget. Το πρωτότυπο, κομψό και εύχρηστο, σημείωσε τεράστια επιτυχία στην ομάδα εστίασης. Παρόλο που υπήρξαν μερικά μικρά προβλήματα κατά τη διάρκεια της αρχικής φάσης δοκιμών, η απρόσκοπτη εμπειρία του τελικού χρήστη επισκίασε τυχόν προηγούμενα προβλήματα. Ο επικεφαλής μηχανικός εξήγησε τη σχολαστική διαδικασία διόρθωσης σφαλμάτων και βελτιστοποίησης που χρειάστηκε για την τελειοποίηση της συσκευής. Ήταν σαφές ότι η σκληρή δουλειά τους είχε αποδώσει καρπούς, καθώς κάθε συμμετέχων ήθελε να μάθει πότε μπορούσε να προπαραγγείλει. Εν τω μεταξύ, το τμήμα ανθρώπινου δυναμικού μοιράστηκε την ιστορία επιτυχίας του σχετικά με την ικανοποίηση των εργαζομένων. Είχαν εφαρμόσει ένα νέο ευέλικτο ωράριο εργασίας, το οποίο είχε τύχει εξαιρετικά θετικών σχολίων. Παρόλο που η μετάβαση είχε αρχικά προκαλέσει ορισμένες υλικοτεχνικές προκλήσεις για τους διευθυντές τμημάτων, η επακόλουθη αύξηση της παραγωγικότητας και του ηθικού δικαιολόγησε πλήρως την αλλαγή. Τα δεδομένα έδειξαν σημαντική μείωση στην εναλλαγή προσωπικού και αύξηση της αυτοαναφερόμενης ικανοποίησης από την εργασία. Αυτή η επιτυχία κατέδειξε ότι η εστίαση στην ευημερία των εργαζομένων μπορεί να μεταφραστεί άμεσα σε επιχειρηματικά κέρδη."
  }
}

tests {
  test("Status should be 200", function () {
    expect(res.getStatus()).to.equal(200);
  });
  
  const expectedPhrases = ["Κατάφεραν να μετατρέψουν τους χλιαρούς υποψήφιους πελάτες σε ένθερμους υποστηρικτές της μάρκας.", "Παρόλο που υπήρξαν μερικά μικρά προβλήματα κατά τη διάρκεια της αρχικής φάσης δοκιμών, η απρόσκοπτη εμπειρία του τελικού χρήστη επισκίασε τυχόν προηγούμενα προβλήματα.", "Παρόλο που η μετάβαση είχε αρχικά προκαλέσει ορισμένες υλικοτεχνικές προκλήσεις για τους διευθυντές τμημάτων, η επακόλουθη αύξηση της παραγωγικότητας και του ηθικού δικαιολόγησε πλήρως την αλλαγή."];
  
  expectedPhrases.forEach(phrase => {
    test(`Phrase '${phrase}' should be detected`, function () {
      const found = res.body.some(item => item.detected_phrase.includes(phrase));
      expect(found).to.be.true;
    });
  });
  
  test("No unexpected phrases should be returned", function () {
    const actualPhrases = res.body.map(item => item.detected_phrase);
    const unexpectedPhrases = actualPhrases.filter(p => !expectedPhrases.some(ep => p.includes(ep)));
    console.log("Unexpected phrases: ", unexpectedPhrases);
    expect(unexpectedPhrases).to.be.empty;
  });
  
  console.log('Body:', res.body);
}

settings {
  encodeUrl: false
}
